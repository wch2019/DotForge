# 构建日志功能说明

## 功能概述

这是一个全新的构建日志功能，用于展示项目的所有构建历史和详细日志信息。该功能完全独立于现有代码，不会影响现有功能。

## 功能特性

### 1. 日志列表页面
- 展示当前项目的所有构建日志
- 支持按构建状态筛选（构建中、成功、失败）
- 支持按时间范围筛选
- 分页显示，支持自定义每页显示数量
- 显示构建时间、状态、时长、日志行数等关键信息

### 2. 日志详情页面
- 点击列表中的"查看详情"按钮进入
- 展示完整的构建日志内容
- 保持与现有日志输出样式一致
- 支持日志导出和复制功能
- 可以在列表和详情之间自由切换

### 3. 导航集成
- 在项目页面的"日志"按钮点击后跳转到日志列表
- 支持返回项目页面
- 响应式设计，支持移动端访问

## 使用方法

### 1. 访问日志列表
1. 在项目页面点击任意项目的"日志"按钮
2. 系统会跳转到该项目的构建日志列表页面
3. 页面显示该项目的所有构建记录

### 2. 查看日志详情
1. 在日志列表中点击"查看详情"按钮
2. 系统会显示该次构建的完整日志内容
3. 可以导出日志文件或复制日志内容

### 3. 筛选和搜索
1. 使用状态筛选器按构建状态筛选日志
2. 使用时间范围选择器按构建时间筛选
3. 筛选结果实时更新

## 技术实现

### 1. 组件结构
- `src/views/project/logsList.vue` - 主日志列表组件
- `src/types/buildLog.ts` - 构建日志类型定义
- `src/router/index.ts` - 路由配置

### 2. 数据模型
```typescript
interface BuildLog {
  id: number
  projectId: string
  projectName: string
  status: 'building' | 'success' | 'failed'
  startTime: number
  endTime?: number
  logs: string[]
  buildCommand?: string
  outputDir?: string
  errorMessage?: string
  artifactsPath?: string
}
```

### 3. 样式设计
- 完全遵循现有项目的设计风格
- 使用相同的颜色方案、字体、间距等
- 响应式设计，支持不同屏幕尺寸
- 保持与现有组件的视觉一致性

## 路由配置

新增路由：
```typescript
{
  path: '/project/logs',
  name: 'ProjectLogsList',
  component: () => import('@/views/project/logsList.vue'),
  meta: {
    title: '构建日志列表',
    showInMenu: false,
  },
}
```

## 注意事项

1. **数据模拟**：当前版本使用模拟数据，实际项目中需要连接真实的后端API
2. **权限控制**：可以根据需要添加用户权限验证
3. **数据持久化**：日志数据可以存储在本地数据库或远程服务器
4. **实时更新**：可以添加WebSocket支持，实时更新构建状态

## 后续扩展

1. **搜索功能**：支持按关键词搜索日志内容
2. **统计分析**：显示构建成功率、平均时长等统计信息
3. **日志对比**：支持不同构建之间的日志对比
4. **通知系统**：构建完成后的通知提醒
5. **日志清理**：自动清理过期的日志数据

## 开发说明

该功能采用Vue 3 Composition API开发，使用TypeScript进行类型检查，完全兼容现有项目的技术栈。所有UI组件都来自Naive UI，确保与项目整体风格保持一致。 